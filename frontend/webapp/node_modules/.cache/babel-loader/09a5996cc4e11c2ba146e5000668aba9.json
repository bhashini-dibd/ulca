{"ast":null,"code":"function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nvar getPopupPositionProperties = function getPopupPositionProperties(_ref) {\n  var _ref$width = _ref.width,\n      width = _ref$width === undefined ? 600 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === undefined ? 600 : _ref$height;\n  var left = screen.width / 2 - width / 2;\n  var top = screen.height / 2 - height / 2;\n  return 'left=' + left + ',top=' + top + ',width=' + width + ',height=' + height;\n};\n\nvar generateRandomString = function generateRandomString() {\n  var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 20;\n  var result = '';\n  var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  var charactersLength = characters.length;\n\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n\n  return result;\n};\n\nvar LINKEDIN_OAUTH2_STATE = 'linkedin_oauth2_state';\nexport var LinkedIn = function (_Component) {\n  _inherits(LinkedIn, _Component);\n\n  function LinkedIn() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, LinkedIn);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.getUrl = function () {\n      var _this$props = _this.props,\n          redirectUri = _this$props.redirectUri,\n          clientId = _this$props.clientId,\n          scope = _this$props.scope,\n          supportIE = _this$props.supportIE,\n          redirectPath = _this$props.redirectPath;\n      var scopeParam = '&scope=' + (supportIE ? scope : encodeURI(scope));\n      var state = generateRandomString();\n      localStorage.setItem(LINKEDIN_OAUTH2_STATE, state);\n      var linkedInAuthenLink = 'https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=' + clientId + '&redirect_uri=' + redirectUri + scopeParam + '&state=' + state;\n\n      if (supportIE) {\n        var redirectLink = '' + window.location.origin + redirectPath + '?linkedin_redirect_url=' + encodeURIComponent(linkedInAuthenLink);\n        return redirectLink;\n      }\n\n      return linkedInAuthenLink;\n    }, _this.receiveMessage = function (event) {\n      var state = localStorage.getItem(LINKEDIN_OAUTH2_STATE);\n\n      if (event.origin === window.location.origin) {\n        if (event.data.errorMessage && event.data.from === 'Linked In') {\n          // Prevent CSRF attack by testing state\n          if (event.data.state !== state) {\n            _this.popup && _this.popup.close();\n            return;\n          }\n\n          _this.props.onFailure(event.data);\n\n          _this.popup && _this.popup.close();\n        } else if (event.data.code && event.data.from === 'Linked In') {\n          // Prevent CSRF attack by testing state\n          if (event.data.state !== state) {\n            console.error('State does not match');\n            _this.popup && _this.popup.close();\n            return;\n          }\n\n          _this.props.onSuccess({\n            code: event.data.code\n          });\n\n          _this.popup && _this.popup.close();\n        }\n      }\n    }, _this.handleConnectLinkedInClick = function (e) {\n      if (e) {\n        e.preventDefault();\n      }\n\n      _this.props.onClick && _this.props.onClick();\n      _this.popup = window.open(_this.getUrl(), '_blank', getPopupPositionProperties({\n        width: 600,\n        height: 600\n      }));\n      window.removeEventListener('message', _this.receiveMessage, false);\n      window.addEventListener('message', _this.receiveMessage, false);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  LinkedIn.prototype.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('message', this.receiveMessage, false);\n    if (this.popup && !this.popup.closed) this.popup.close();\n  };\n\n  LinkedIn.prototype.render = function render() {\n    var _props = this.props,\n        className = _props.className,\n        disabled = _props.disabled,\n        children = _props.children,\n        renderElement = _props.renderElement,\n        style = _props.style;\n\n    if (renderElement) {\n      return renderElement({\n        onClick: this.handleConnectLinkedInClick,\n        disabled: disabled\n      });\n    }\n\n    return React.createElement('button', {\n      type: 'button',\n      onClick: this.handleConnectLinkedInClick,\n      className: className,\n      disabled: disabled,\n      style: style ? style : {\n        background: 'none',\n        color: 'inherit',\n        border: 'none',\n        padding: 0,\n        cursor: 'pointer',\n        font: 'inherit',\n        outline: 'inherit'\n      }\n    }, children);\n  };\n\n  return LinkedIn;\n}(Component);\nLinkedIn.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  className: PropTypes.string,\n  onFailure: PropTypes.func.isRequired,\n  onSuccess: PropTypes.func.isRequired,\n  onClick: PropTypes.func,\n  disabled: PropTypes.bool,\n  clientId: PropTypes.string.isRequired,\n  redirectUri: PropTypes.string.isRequired,\n  renderElement: PropTypes.func\n} : {};\nLinkedIn.defaultProps = {\n  disabled: false,\n  children: React.createElement('img', {\n    src: require('../assets/linkedin.png'),\n    alt: 'Log in with Linked In',\n    style: {\n      maxWidth: '180px'\n    }\n  }),\n  supportIE: false,\n  redirectPath: '/linkedin',\n  scope: 'r_emailaddress'\n};\nexport default LinkedIn;","map":{"version":3,"sources":["/home/sajish/Documents/Sajish/ULCA/ULCA/frontend/webapp/node_modules/react-linkedin-login-oauth2/es/LinkedIn.js"],"names":["_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","React","Component","PropTypes","getPopupPositionProperties","_ref","_ref$width","width","undefined","_ref$height","height","left","screen","top","generateRandomString","length","arguments","result","characters","charactersLength","i","charAt","Math","floor","random","LINKEDIN_OAUTH2_STATE","LinkedIn","_Component","_temp","_this","_ret","_len","args","Array","_key","apply","concat","getUrl","_this$props","props","redirectUri","clientId","scope","supportIE","redirectPath","scopeParam","encodeURI","state","localStorage","setItem","linkedInAuthenLink","redirectLink","window","location","origin","encodeURIComponent","receiveMessage","event","getItem","data","errorMessage","from","popup","close","onFailure","code","console","error","onSuccess","handleConnectLinkedInClick","e","preventDefault","onClick","open","removeEventListener","addEventListener","componentWillUnmount","closed","render","_props","className","disabled","children","renderElement","style","createElement","type","background","color","border","padding","cursor","font","outline","propTypes","process","env","NODE_ENV","string","func","isRequired","bool","defaultProps","src","require","alt","maxWidth"],"mappings":"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","sourcesContent":["function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nvar getPopupPositionProperties = function getPopupPositionProperties(_ref) {\n  var _ref$width = _ref.width,\n      width = _ref$width === undefined ? 600 : _ref$width,\n      _ref$height = _ref.height,\n      height = _ref$height === undefined ? 600 : _ref$height;\n\n  var left = screen.width / 2 - width / 2;\n  var top = screen.height / 2 - height / 2;\n  return 'left=' + left + ',top=' + top + ',width=' + width + ',height=' + height;\n};\n\nvar generateRandomString = function generateRandomString() {\n  var length = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 20;\n\n  var result = '';\n  var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  var charactersLength = characters.length;\n  for (var i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * charactersLength));\n  }\n  return result;\n};\n\nvar LINKEDIN_OAUTH2_STATE = 'linkedin_oauth2_state';\n\nexport var LinkedIn = function (_Component) {\n  _inherits(LinkedIn, _Component);\n\n  function LinkedIn() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, LinkedIn);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.getUrl = function () {\n      var _this$props = _this.props,\n          redirectUri = _this$props.redirectUri,\n          clientId = _this$props.clientId,\n          scope = _this$props.scope,\n          supportIE = _this$props.supportIE,\n          redirectPath = _this$props.redirectPath;\n\n      var scopeParam = '&scope=' + (supportIE ? scope : encodeURI(scope));\n      var state = generateRandomString();\n      localStorage.setItem(LINKEDIN_OAUTH2_STATE, state);\n      var linkedInAuthenLink = 'https://www.linkedin.com/oauth/v2/authorization?response_type=code&client_id=' + clientId + '&redirect_uri=' + redirectUri + scopeParam + '&state=' + state;\n      if (supportIE) {\n        var redirectLink = '' + window.location.origin + redirectPath + '?linkedin_redirect_url=' + encodeURIComponent(linkedInAuthenLink);\n        return redirectLink;\n      }\n      return linkedInAuthenLink;\n    }, _this.receiveMessage = function (event) {\n      var state = localStorage.getItem(LINKEDIN_OAUTH2_STATE);\n      if (event.origin === window.location.origin) {\n        if (event.data.errorMessage && event.data.from === 'Linked In') {\n          // Prevent CSRF attack by testing state\n          if (event.data.state !== state) {\n            _this.popup && _this.popup.close();\n            return;\n          }\n          _this.props.onFailure(event.data);\n          _this.popup && _this.popup.close();\n        } else if (event.data.code && event.data.from === 'Linked In') {\n          // Prevent CSRF attack by testing state\n          if (event.data.state !== state) {\n            console.error('State does not match');\n            _this.popup && _this.popup.close();\n            return;\n          }\n          _this.props.onSuccess({ code: event.data.code });\n          _this.popup && _this.popup.close();\n        }\n      }\n    }, _this.handleConnectLinkedInClick = function (e) {\n      if (e) {\n        e.preventDefault();\n      }\n      _this.props.onClick && _this.props.onClick();\n      _this.popup = window.open(_this.getUrl(), '_blank', getPopupPositionProperties({ width: 600, height: 600 }));\n      window.removeEventListener('message', _this.receiveMessage, false);\n      window.addEventListener('message', _this.receiveMessage, false);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  LinkedIn.prototype.componentWillUnmount = function componentWillUnmount() {\n    window.removeEventListener('message', this.receiveMessage, false);\n    if (this.popup && !this.popup.closed) this.popup.close();\n  };\n\n  LinkedIn.prototype.render = function render() {\n    var _props = this.props,\n        className = _props.className,\n        disabled = _props.disabled,\n        children = _props.children,\n        renderElement = _props.renderElement,\n        style = _props.style;\n\n    if (renderElement) {\n      return renderElement({ onClick: this.handleConnectLinkedInClick, disabled: disabled });\n    }\n    return React.createElement(\n      'button',\n      {\n        type: 'button',\n        onClick: this.handleConnectLinkedInClick,\n        className: className,\n        disabled: disabled,\n        style: style ? style : {\n          background: 'none',\n          color: 'inherit',\n          border: 'none',\n          padding: 0,\n          cursor: 'pointer',\n          font: 'inherit',\n          outline: 'inherit'\n        }\n      },\n      children\n    );\n  };\n\n  return LinkedIn;\n}(Component);\n\nLinkedIn.propTypes = process.env.NODE_ENV !== \"production\" ? {\n  className: PropTypes.string,\n  onFailure: PropTypes.func.isRequired,\n  onSuccess: PropTypes.func.isRequired,\n  onClick: PropTypes.func,\n  disabled: PropTypes.bool,\n  clientId: PropTypes.string.isRequired,\n  redirectUri: PropTypes.string.isRequired,\n  renderElement: PropTypes.func\n} : {};\nLinkedIn.defaultProps = {\n  disabled: false,\n  children: React.createElement('img', { src: require('../assets/linkedin.png'), alt: 'Log in with Linked In', style: { maxWidth: '180px' } }),\n  supportIE: false,\n  redirectPath: '/linkedin',\n  scope: 'r_emailaddress'\n};\nexport default LinkedIn;"]},"metadata":{},"sourceType":"module"}